<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>代理模式的单例</title>
</head>
<body>

<script>
let CreateDiv = function (html) {
  this.html = html;
  this.init();
};
CreateDiv.prototype.init = function () {
  let div = document.createElement('div');
  div.innerHTML = this.html;
  document.body.appendChild(div);
};

let ProxySingletonCreateDiv = (function () {
  let instance;
  return function (html) {
    if (instance) {
      return instance;
    }
    instance = new CreateDiv(html);
    return instance;
  }
})();

let div1 = ProxySingletonCreateDiv('aaa');
let div2 = ProxySingletonCreateDiv('bbb');
console.log(div1 === div2);
console.log(div1);
</script>
</body>
</html>