<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>惰性单例</title>
</head>
<body>
<button id="btn">login</button>

<script>
let createLoginLayer = (function () {
  let layer;
  return function () {
    if (!layer) {
      layer = document.createElement('div');
      layer.innerHTML = 'login layer';
      layer.style.display = 'none';
      document.body.appendChild(layer);
    }
    return layer;
  }
})();

let btn = document.querySelector('#btn');
btn.addEventListener('click', function () {
  let loginLayer = createLoginLayer();
  loginLayer.style.display = 'block';
}, false)
</script>
</body>
</html>